import{c as l,l as x,g as I,e as C,T as D,s as L,f as T,h as R,b as u}from"./TMDB-b6D5NP6K.js";class U{constructor(r,n){this.apiKey=r,this.query=`${n} official trailer`}getTrailer=async()=>{try{const r=`https://www.googleapis.com/youtube/v3/search?part=snippet&q=${encodeURIComponent(this.query)}&type=video&key=${this.apiKey}&maxResults=1`,n=await fetch(r);if(!n.ok)return l("Failed to fetch trailer."),null;const o=await n.json();return!o.items||o.items.length===0?(l("No trailer found."),null):`https://www.youtube.com/embed/${o.items[0].id.videoId}`}catch(r){return console.error("Error fetching trailer:",r),l("Failed to fetch trailer."),null}}}x();const A="AIzaSyBh6D3RTxaugGX0LeYH5lAj4VQo0FyqKg8",B="241e6becbd9e2bd9505a83f840487126";let c=I("watchlist")||[];const E=new D(B),F=C("id"),d=await E.getMovieDetails(F),_=new U(A,d.title),j=await _.getTrailer(),k=(e,r)=>{const n=document.querySelector("iframe");n.src=r;const o=document.getElementById("favourite-btn"),i=()=>{const t=c.includes(e.id);o.querySelector("img").src=t?`${u}assets/liked.svg`:`${u}assets/not-liked.svg`};i(),o.addEventListener("click",()=>{const t=c.includes(e.id);t?c=c.filter(v=>v!==e.id):c.push(e.id),L("watchlist",c),i(),T(t?"Removed from your watchlist":"Added to your watchlist")});const s=document.getElementById("hero"),y=s.querySelector("img"),g=s.querySelector("h1"),h=s.querySelector("#rating"),m=s.querySelector("#genres"),p=s.querySelector("#date"),S=s.querySelector("#runtime");y.src=`https://image.tmdb.org/t/p/original${e.poster_path}`,g.textContent=`${e.title} (${e.release_date.split("-")[0]})`,h.innerHTML+=`${e.vote_average.toFixed(1)}`,m.textContent=e.genres.map(t=>t.name).join(" | "),p.textContent=`Released: ${new Date(e.release_date).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}`,S.textContent=`Runtime: ${R(e.runtime)}`;const a=document.getElementById("details"),w=a.querySelector("#overview"),f=a.querySelector("#companies"),b=a.querySelector("#budget"),q=a.querySelector("#revenue"),$=a.querySelector("#origin-country");w.textContent=e.overview,f.innerHTML=e.production_companies.map(t=>`<li class="list-disc ">${t.name}</li>`).join(""),b.textContent=e.budget.toLocaleString("en-US",{style:"currency",currency:"USD"}),q.textContent=e.revenue.toLocaleString("en-US",{style:"currency",currency:"USD"}),$.textContent=e.origin_country.join(" | ")};k(d,j);
